(()=>{var t={n:n=>{var a=n&&n.__esModule?()=>n.default:()=>n;return t.d(a,{a}),a},d:(n,a)=>{for(var e in a)t.o(a,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:a[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n);const a=flarum.core.compat["admin/app"];var e=t.n(a);const r=flarum.core.compat["common/components/Button"];var o=t.n(r),s="anonymous-posting.formulaireAvatars",i="clarkwinkelmann-anonymous-posting.admin.settings.";e().initializers.add("anonymous-posting",(function(){e().extensionData.for("clarkwinkelmann-anonymous-posting").registerSetting((function(){var t,n=this;try{t=JSON.parse(this.setting(s)())}catch(t){}return Array.isArray(t)||(t=[]),m(".Form-group",[m("label",e().translator.trans(i+"avatars")),m(".helpText",e().translator.trans(i+"avatarsHelp",{a:m("a",{href:"https://kilowhat.net/flarum/extensions/formulaire",target:"_blank",rel:"noopener"})})),m("table",[m("thead",m("tr",[m("th",e().translator.trans(i+"avatarFormId")),m("th",e().translator.trans(i+"avatarFieldKey")),m("th",e().translator.trans(i+"avatarFieldValue")),m("th",e().translator.trans(i+"avatarAvatarUrl")),m("th")])),m("tbody",[t.map((function(a,e){return m("tr",[m("td",m("input.FormControl",{type:"text",value:a.formId||"",onchange:function(e){a.formId=e.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",m("input.FormControl",{type:"text",value:a.fieldKey||"",onchange:function(e){a.fieldKey=e.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",m("input.FormControl",{type:"text",value:a.fieldValue||"",onchange:function(e){a.fieldValue=e.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",m("input.FormControl",{type:"text",value:a.avatarUrl||"",onchange:function(e){a.avatarUrl=e.target.value,n.setting(s)(JSON.stringify(t))}})),m("td",o().component({className:"Button Button--icon",icon:"fas fa-times",onclick:function(){t.splice(e,1),n.setting(s)(t.length>0?JSON.stringify(t):null)}}))])})),m("tr",m("td",{colspan:5},o().component({className:"Button Button--block",onclick:function(){t.push({formId:"",fieldKey:"",fieldValue:"",avatarUrl:""}),n.setting(s)(JSON.stringify(t))}},e().translator.trans(i+"avatarAdd"))))])])])})).registerPermission({permission:"anonymous-posting.use",icon:"fas fa-user-secret",label:e().translator.trans("clarkwinkelmann-anonymous-posting.admin.permissions.use")},"start").registerPermission({permission:"anonymous-posting.reveal",icon:"fas fa-user-secret",label:e().translator.trans("clarkwinkelmann-anonymous-posting.admin.permissions.reveal")},"moderate").registerPermission({permission:"anonymous-posting.moderate",icon:"fas fa-user-secret",label:e().translator.trans("clarkwinkelmann-anonymous-posting.admin.permissions.moderate")},"moderate")}))})(),module.exports=n})();
//# sourceMappingURL=admin.js.map